1d366f2d920adc1a63087253c36a1855
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _NativeTVNavigationEventEmitter = _interopRequireDefault(require("./NativeTVNavigationEventEmitter"));

var Platform = require("../../Utilities/Platform");

var NativeEventEmitter = require("../../EventEmitter/NativeEventEmitter");

function TVEventHandler() {
  this.__nativeTVNavigationEventListener = null;
  this.__nativeTVNavigationEventEmitter = null;
}

TVEventHandler.prototype.enable = function (component, callback) {
  if (Platform.OS === 'ios' && !_NativeTVNavigationEventEmitter.default) {
    return;
  }

  this.__nativeTVNavigationEventEmitter = new NativeEventEmitter(_NativeTVNavigationEventEmitter.default);
  this.__nativeTVNavigationEventListener = this.__nativeTVNavigationEventEmitter.addListener('onHWKeyEvent', function (data) {
    if (callback) {
      callback(component, data);
    }
  });
};

TVEventHandler.prototype.disable = function () {
  if (this.__nativeTVNavigationEventListener) {
    this.__nativeTVNavigationEventListener.remove();

    delete this.__nativeTVNavigationEventListener;
  }

  if (this.__nativeTVNavigationEventEmitter) {
    delete this.__nativeTVNavigationEventEmitter;
  }
};

module.exports = TVEventHandler;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRWRXZlbnRIYW5kbGVyLmpzIl0sIm5hbWVzIjpbIlBsYXRmb3JtIiwicmVxdWlyZSIsIk5hdGl2ZUV2ZW50RW1pdHRlciIsIlRWRXZlbnRIYW5kbGVyIiwiX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudExpc3RlbmVyIiwiX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudEVtaXR0ZXIiLCJwcm90b3R5cGUiLCJlbmFibGUiLCJjb21wb25lbnQiLCJjYWxsYmFjayIsIk9TIiwiTmF0aXZlVFZOYXZpZ2F0aW9uRXZlbnRFbWl0dGVyIiwiYWRkTGlzdGVuZXIiLCJkYXRhIiwiZGlzYWJsZSIsInJlbW92ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQVVBOzs7O0FBS0E7O0FBSEEsSUFBTUEsUUFBUSxHQUFHQyxPQUFPLDRCQUF4Qjs7QUFDQSxJQUFNQyxrQkFBa0IsR0FBR0QsT0FBTyx5Q0FBbEM7O0FBSUEsU0FBU0UsY0FBVCxHQUEwQjtBQUN4QixPQUFLQyxpQ0FBTCxHQUF5QyxJQUF6QztBQUNBLE9BQUtDLGdDQUFMLEdBQXdDLElBQXhDO0FBQ0Q7O0FBRURGLGNBQWMsQ0FBQ0csU0FBZixDQUF5QkMsTUFBekIsR0FBa0MsVUFDaENDLFNBRGdDLEVBRWhDQyxRQUZnQyxFQUdoQztBQUNBLE1BQUlULFFBQVEsQ0FBQ1UsRUFBVCxLQUFnQixLQUFoQixJQUF5QixDQUFDQyx1Q0FBOUIsRUFBOEQ7QUFDNUQ7QUFDRDs7QUFFRCxPQUFLTixnQ0FBTCxHQUF3QyxJQUFJSCxrQkFBSixDQUN0Q1MsdUNBRHNDLENBQXhDO0FBR0EsT0FBS1AsaUNBQUwsR0FBeUMsS0FBS0MsZ0NBQUwsQ0FBc0NPLFdBQXRDLENBQ3ZDLGNBRHVDLEVBRXZDLFVBQUFDLElBQUksRUFBSTtBQUNOLFFBQUlKLFFBQUosRUFBYztBQUNaQSxNQUFBQSxRQUFRLENBQUNELFNBQUQsRUFBWUssSUFBWixDQUFSO0FBQ0Q7QUFDRixHQU5zQyxDQUF6QztBQVFELENBbkJEOztBQXFCQVYsY0FBYyxDQUFDRyxTQUFmLENBQXlCUSxPQUF6QixHQUFtQyxZQUFXO0FBQzVDLE1BQUksS0FBS1YsaUNBQVQsRUFBNEM7QUFDMUMsU0FBS0EsaUNBQUwsQ0FBdUNXLE1BQXZDOztBQUNBLFdBQU8sS0FBS1gsaUNBQVo7QUFDRDs7QUFDRCxNQUFJLEtBQUtDLGdDQUFULEVBQTJDO0FBQ3pDLFdBQU8sS0FBS0EsZ0NBQVo7QUFDRDtBQUNGLENBUkQ7O0FBVUFXLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmQsY0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmb3JtYXRcbiAqIEBmbG93XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBQbGF0Zm9ybSA9IHJlcXVpcmUoJy4uLy4uL1V0aWxpdGllcy9QbGF0Zm9ybScpO1xuY29uc3QgTmF0aXZlRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnLi4vLi4vRXZlbnRFbWl0dGVyL05hdGl2ZUV2ZW50RW1pdHRlcicpO1xuXG5pbXBvcnQgTmF0aXZlVFZOYXZpZ2F0aW9uRXZlbnRFbWl0dGVyIGZyb20gJy4vTmF0aXZlVFZOYXZpZ2F0aW9uRXZlbnRFbWl0dGVyJztcblxuZnVuY3Rpb24gVFZFdmVudEhhbmRsZXIoKSB7XG4gIHRoaXMuX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudExpc3RlbmVyID0gbnVsbDtcbiAgdGhpcy5fX25hdGl2ZVRWTmF2aWdhdGlvbkV2ZW50RW1pdHRlciA9IG51bGw7XG59XG5cblRWRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5lbmFibGUgPSBmdW5jdGlvbihcbiAgY29tcG9uZW50OiA/YW55LFxuICBjYWxsYmFjazogRnVuY3Rpb24sXG4pIHtcbiAgaWYgKFBsYXRmb3JtLk9TID09PSAnaW9zJyAmJiAhTmF0aXZlVFZOYXZpZ2F0aW9uRXZlbnRFbWl0dGVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5fX25hdGl2ZVRWTmF2aWdhdGlvbkV2ZW50RW1pdHRlciA9IG5ldyBOYXRpdmVFdmVudEVtaXR0ZXIoXG4gICAgTmF0aXZlVFZOYXZpZ2F0aW9uRXZlbnRFbWl0dGVyLFxuICApO1xuICB0aGlzLl9fbmF0aXZlVFZOYXZpZ2F0aW9uRXZlbnRMaXN0ZW5lciA9IHRoaXMuX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudEVtaXR0ZXIuYWRkTGlzdGVuZXIoXG4gICAgJ29uSFdLZXlFdmVudCcsXG4gICAgZGF0YSA9PiB7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2soY29tcG9uZW50LCBkYXRhKTtcbiAgICAgIH1cbiAgICB9LFxuICApO1xufTtcblxuVFZFdmVudEhhbmRsZXIucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudExpc3RlbmVyKSB7XG4gICAgdGhpcy5fX25hdGl2ZVRWTmF2aWdhdGlvbkV2ZW50TGlzdGVuZXIucmVtb3ZlKCk7XG4gICAgZGVsZXRlIHRoaXMuX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudExpc3RlbmVyO1xuICB9XG4gIGlmICh0aGlzLl9fbmF0aXZlVFZOYXZpZ2F0aW9uRXZlbnRFbWl0dGVyKSB7XG4gICAgZGVsZXRlIHRoaXMuX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudEVtaXR0ZXI7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVFZFdmVudEhhbmRsZXI7XG4iXX0=